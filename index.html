<!doctype html>
<html lang="id">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Website Pembelajaran PJOK Kelas 1 SD</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Comic Sans MS', 'Segoe UI', Tahoma, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100%;
        }

        * {
            box-sizing: border-box;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            padding: 15px 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .logo-left {
            height: 60px;
            width: auto;
        }

        .header-center {
            flex: 1;
            text-align: center;
            min-width: 200px;
        }

        .header-center h1 {
            margin: 0;
            color: white;
            font-size: 28px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header-center p {
            margin: 5px 0 0 0;
            color: #fff;
            font-size: 16px;
        }

        .logo-right {
            height: 60px;
            width: auto;
        }

        .nav-buttons {
            background: white;
            padding: 15px 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .nav-btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(245, 87, 108, 0.4);
            transition: all 0.3s;
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(245, 87, 108, 0.6);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }

        .welcome-section {
            background: white;
            border-radius: 30px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
        }

        .welcome-section h2 {
            color: #ff6b6b;
            font-size: 36px;
            margin: 0 0 20px 0;
        }

        .welcome-section p {
            color: #666;
            font-size: 20px;
            line-height: 1.6;
        }

        .bab-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .bab-card {
            background: white;
            border-radius: 25px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
            border: 4px solid transparent;
        }

        .bab-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
            border-color: #4facfe;
        }

        .bab-icon {
            font-size: 60px;
            margin-bottom: 15px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .bab-card h3 {
            color: #ff6b6b;
            font-size: 24px;
            margin: 10px 0;
        }

        .bab-card p {
            color: #666;
            font-size: 16px;
        }

        .content-section {
            display: none;
            background: white;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .back-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(118, 75, 162, 0.4);
            transition: all 0.3s;
        }

        .back-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(118, 75, 162, 0.6);
        }

        .learning-style-tabs {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .style-tab {
            flex: 1;
            min-width: 150px;
            background: #f0f0f0;
            border: 3px solid #ddd;
            padding: 15px;
            border-radius: 15px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
            font-weight: bold;
        }

        .style-tab:hover {
            background: #e0e0e0;
        }

        .style-tab.active {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border-color: #4facfe;
        }

        .style-content {
            display: none;
            background: #f8f9fa;
            border-radius: 20px;
            padding: 30px;
            margin-top: 20px;
            border: 3px solid #4facfe;
        }

        .style-content.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        .style-content h3 {
            color: #ff6b6b;
            font-size: 24px;
            margin-top: 0;
        }

        .style-content p {
            color: #333;
            font-size: 18px;
            line-height: 1.8;
        }

        .admin-section {
            display: none;
            background: white;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .admin-section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        .login-form {
            max-width: 400px;
            margin: 0 auto;
            text-align: center;
        }

        .login-form h2 {
            color: #ff6b6b;
            margin-bottom: 20px;
        }

        .login-form input {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            border: 3px solid #ddd;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .login-btn {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
            transition: all 0.3s;
        }

        .login-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.6);
        }

        .admin-panel {
            display: none;
        }

        .admin-panel.active {
            display: block;
        }

        .admin-tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .admin-tab {
            background: #f0f0f0;
            border: 3px solid #ddd;
            padding: 15px 30px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .admin-tab:hover {
            background: #e0e0e0;
        }

        .admin-tab.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-color: #f5576c;
        }

        .admin-content {
            display: none;
        }

        .admin-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #333;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 3px solid #ddd;
            border-radius: 10px;
            font-family: 'Comic Sans MS', sans-serif;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .submit-btn {
            background: linear-gradient(135deg, #51cf66 0%, #37b24d 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(81, 207, 102, 0.4);
            transition: all 0.3s;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(81, 207, 102, 0.6);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .data-list {
            margin-top: 30px;
        }

        .data-item {
            background: #f8f9fa;
            border: 3px solid #ddd;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .data-item h4 {
            color: #ff6b6b;
            margin: 0 0 10px 0;
        }

        .data-item p {
            color: #666;
            margin: 5px 0;
        }

        .data-actions {
            margin-top: 15px;
            display: flex;
            gap: 10px;
        }

        .edit-btn {
            background: linear-gradient(135deg, #ffd93d 0%, #ff9800 100%);
            color: white;
            border: none;
            padding: 10px 25px;
            font-size: 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .edit-btn:hover {
            transform: translateY(-2px);
        }

        .delete-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
            border: none;
            padding: 10px 25px;
            font-size: 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .delete-btn:hover {
            transform: translateY(-2px);
        }

        .help-section {
            display: none;
            background: white;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .help-section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        .help-section h2 {
            color: #ff6b6b;
            font-size: 32px;
            margin-bottom: 20px;
        }

        .help-item {
            background: #f8f9fa;
            border-left: 5px solid #4facfe;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
        }

        .help-item h3 {
            color: #4facfe;
            margin-top: 0;
        }

        .help-item p {
            color: #666;
            line-height: 1.6;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 18px;
        }

        .error-message {
            background: #ffe0e0;
            border: 3px solid #ff6b6b;
            border-radius: 15px;
            padding: 15px;
            color: #d63031;
            margin: 10px 0;
            text-align: center;
        }

        .success-message {
            background: #d4edda;
            border: 3px solid #51cf66;
            border-radius: 15px;
            padding: 15px;
            color: #2d6a4f;
            margin: 10px 0;
            text-align: center;
        }

        .kuis-item {
            background: white;
            border: 3px solid #4facfe;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .kuis-question {
            color: #333;
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .kuis-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .kuis-option {
            background: #f8f9fa;
            border: 3px solid #ddd;
            border-radius: 15px;
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 18px;
        }

        .kuis-option:hover {
            background: #e9ecef;
            border-color: #4facfe;
        }

        .kuis-option.selected {
            background: #4facfe;
            color: white;
            border-color: #4facfe;
        }

        .kuis-option.correct {
            background: #51cf66;
            color: white;
            border-color: #51cf66;
        }

        .kuis-option.incorrect {
            background: #ff6b6b;
            color: white;
            border-color: #ff6b6b;
        }

        .kuis-submit {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
            transition: all 0.3s;
        }

        .kuis-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.6);
        }

        .kuis-submit:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .kuis-explanation {
            background: #e7f5ff;
            border: 3px solid #4facfe;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .kuis-explanation.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        .kuis-explanation h4 {
            color: #4facfe;
            margin-top: 0;
        }

        .kuis-score {
            background: linear-gradient(135deg, #51cf66 0%, #37b24d 100%);
            color: white;
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin-top: 20px;
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            max-width: 100%;
            margin: 20px 0;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 15px;
        }

        .audio-player {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 3px solid #4facfe;
        }

        .audio-player audio {
            width: 100%;
            border-radius: 10px;
        }

        @media (max-width: 768px) {
            .header-center h1 {
                font-size: 22px;
            }

            .header-center p {
                font-size: 14px;
            }

            .logo-left, .logo-right {
                height: 45px;
            }

            .bab-grid {
                grid-template-columns: 1fr;
            }

            .learning-style-tabs {
                flex-direction: column;
            }

            .style-tab {
                min-width: 100%;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <header class="header"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Kementerian_Agama_new_logo.png/535px-Kementerian_Agama_new_logo.png" alt="Logo Kemenag" class="logo-left">
   <div class="header-center">
    <h1 id="site-title">üèÉ Pembelajaran PJOK Kelas 1 SD üèÉ</h1>
    <p id="teacher-name">Guru: Ibu Siti Nur Aisyah, S.Pd</p>
    <p id="school-name" style="margin: 5px 0 0 0; color: #fff; font-size: 18px; font-weight: bold;">MIN 1 Sumedang</p>
   </div><img src="https://lh3.googleusercontent.com/d/1h6-x_XIKo6qsrTJv6iczkGD7l6MRoSaA" alt="Logo Kemenag Berdampak" class="logo-right" onerror="this.style.display='none'; console.log('Logo gagal dimuat: Pastikan file sudah di-share publik di Google Drive')">
  </header>
  <nav class="nav-buttons"><button class="nav-btn active" onclick="showHome()">üè† Home</button> <button class="nav-btn" onclick="showHelp()">‚ùì Bantuan</button> <button class="nav-btn" onclick="showAdmin()">üîê Admin</button>
  </nav>
  <div class="container"><!-- Home Section -->
   <div id="homeSection">
    <div class="welcome-section">
     <h2>Selamat Datang! üåü</h2>
     <p>Halo adik-adik kelas 1 SD! Ayo belajar PJOK dengan cara yang menyenangkan! Pilih BAB yang ingin kamu pelajari di bawah ini. Setiap BAB memiliki materi lengkap dengan gambar, penjelasan, dan aktivitas seru! üí™‚ú®</p>
    </div>
    <div class="bab-grid">
     <div class="bab-card" onclick="showBab('BAB 1')">
      <div class="bab-icon">
       üö∂‚Äç‚ôÇÔ∏è
      </div>
      <h3>BAB 1</h3>
      <h3>Gerak Dasar</h3>
      <p>Belajar berjalan, berlari, melompat, dan bergerak dengan benar!</p>
     </div>
     <div class="bab-card" onclick="showBab('BAB 2')">
      <div class="bab-icon">
       ü§∏‚Äç‚ôÄÔ∏è
      </div>
      <h3>BAB 2</h3>
      <h3>Senam Lantai</h3>
      <p>Belajar gerakan senam lantai yang aman dan menyenangkan!</p>
     </div>
     <div class="bab-card" onclick="showBab('BAB 3')">
      <div class="bab-icon">
       üíÉ
      </div>
      <h3>BAB 3</h3>
      <h3>Senam Berirama</h3>
      <p>Bergerak mengikuti irama musik dengan gerakan indah!</p>
     </div>
     <div class="bab-card" onclick="showBab('BAB 4')">
      <div class="bab-icon">
       üèä‚Äç‚ôÇÔ∏è
      </div>
      <h3>BAB 4</h3>
      <h3>Olahraga Air</h3>
      <p>Belajar tentang keselamatan dan aktivitas di air!</p>
     </div>
     <div class="bab-card" onclick="showBab('BAB 5')">
      <div class="bab-icon">
       üí™
      </div>
      <h3>BAB 5</h3>
      <h3>Kebugaran Jasmani</h3>
      <p>Melatih tubuh agar tetap sehat dan kuat!</p>
     </div>
     <div class="bab-card" onclick="showBab('BAB 6')">
      <div class="bab-icon">
       üßº
      </div>
      <h3>BAB 6</h3>
      <h3>Perilaku Hidup Sehat</h3>
      <p>Belajar kebiasaan hidup bersih dan sehat!</p>
     </div>
    </div>
   </div><!-- Content Section -->
   <div id="contentSection" class="content-section"><button class="back-btn" onclick="showHome()">‚Üê Kembali ke Home</button>
    <h2 id="contentTitle" style="color: #ff6b6b; font-size: 32px;"></h2>
    <div class="learning-style-tabs">
     <div class="style-tab active" onclick="switchStyle('visual')">
      üëÅÔ∏è Visual (Gambar)
     </div>
     <div class="style-tab" onclick="switchStyle('audio')">
      üîä Auditori (Penjelasan)
     </div>
     <div class="style-tab" onclick="switchStyle('kinesthetic')">
      ü§æ Kinestetik (Aktivitas)
     </div>
    </div>
    <div id="visualContent" class="style-content active">
     <h3>üì∏ Materi Visual</h3>
     <div id="visualText"></div>
     <div id="visualVideo"></div>
    </div>
    <div id="audioContent" class="style-content">
     <h3>üîä Materi Auditori</h3>
     <div id="audioText"></div>
     <div id="audioPlayer"></div>
    </div>
    <div id="kinestheticContent" class="style-content">
     <h3>ü§æ Materi Kinestetik</h3>
     <div id="kinestheticText"></div>
    </div>
    <div style="margin-top: 30px; padding: 20px; background: #fff3cd; border: 3px solid #ffc107; border-radius: 20px;">
     <h3 style="color: #ff6b6b; margin-top: 0;">üìù Kuis Pemahaman</h3>
     <p style="color: #666;">Uji pemahamanmu dengan mengerjakan kuis di bawah ini!</p>
     <div id="kuisContainer"></div>
    </div>
   </div><!-- Help Section -->
   <div id="helpSection" class="help-section"><button class="back-btn" onclick="showHome()">‚Üê Kembali ke Home</button>
    <h2>‚ùì Bantuan</h2>
    <div class="help-item">
     <h3>üè† Cara Menggunakan Website</h3>
     <p>1. Klik salah satu BAB yang ingin kamu pelajari<br>
       2. Pilih gaya belajar yang kamu suka (Visual, Auditori, atau Kinestetik)<br>
       3. Baca dan pelajari materi dengan seksama<br>
       4. Klik tombol "Kembali ke Home" untuk memilih BAB lain</p>
    </div>
    <div class="help-item">
     <h3>üé® Gaya Belajar</h3>
     <p><strong>Visual:</strong> Belajar dengan melihat gambar dan membaca penjelasan<br><strong>Auditori:</strong> Belajar dengan mendengarkan penjelasan detail<br><strong>Kinestetik:</strong> Belajar dengan melakukan aktivitas dan praktik langsung</p>
    </div>
    <div class="help-item">
     <h3>üîê Mode Admin</h3>
     <p>Mode Admin digunakan oleh guru untuk mengelola materi dan kuis. Gunakan password: <strong>adminpjok</strong> untuk masuk ke mode admin.</p>
    </div>
    <div class="help-item">
     <h3>üí° Tips Belajar</h3>
     <p>‚Ä¢ Belajar dengan santai dan jangan terburu-buru<br>
       ‚Ä¢ Praktikkan gerakan yang dipelajari dengan hati-hati<br>
       ‚Ä¢ Minta bantuan guru atau orang tua jika ada yang tidak dimengerti<br>
       ‚Ä¢ Selalu lakukan pemanasan sebelum berolahraga</p>
    </div>
   </div><!-- Admin Section -->
   <div id="adminSection" class="admin-section"><button class="back-btn" onclick="showHome()">‚Üê Kembali ke Home</button>
    <div id="loginForm" class="login-form">
     <h2>üîê Login Admin</h2>
     <p>Masukkan password untuk mengakses mode admin</p><input type="password" id="adminPassword" placeholder="Masukkan password">
     <div id="loginError"></div><button class="login-btn" onclick="loginAdmin()">Masuk</button>
    </div>
    <div id="adminPanel" class="admin-panel">
     <h2 style="color: #ff6b6b; font-size: 32px;">üîß Panel Admin</h2>
     <div class="admin-tabs">
      <div class="admin-tab active" onclick="switchAdminTab('materi')">
       üìö Kelola Materi
      </div>
      <div class="admin-tab" onclick="switchAdminTab('kuis')">
       üìù Kelola Kuis
      </div>
     </div><!-- Materi Management -->
     <div id="materiAdmin" class="admin-content active">
      <h3 style="color: #4facfe;">Tambah/Edit Materi</h3>
      <form id="materiForm" onsubmit="saveMateri(event)">
       <div class="form-group"><label for="materiBab">BAB:</label> <select id="materiBab" required> <option value="">Pilih BAB</option> <option value="BAB 1">BAB 1 - Gerak Dasar</option> <option value="BAB 2">BAB 2 - Senam Lantai</option> <option value="BAB 3">BAB 3 - Senam Berirama</option> <option value="BAB 4">BAB 4 - Olahraga Air</option> <option value="BAB 5">BAB 5 - Kebugaran Jasmani</option> <option value="BAB 6">BAB 6 - Perilaku Hidup Sehat</option> </select>
       </div>
       <div class="form-group"><label for="materiTitle">Judul Materi:</label> <input type="text" id="materiTitle" required>
       </div>
       <div class="form-group"><label for="materiVisual">Konten Visual (Gambar &amp; Teks):</label> <textarea id="materiVisual" required></textarea>
       </div>
       <div class="form-group"><label for="materiAudio">Konten Auditori (Penjelasan Detail):</label> <textarea id="materiAudio" required></textarea>
       </div>
       <div class="form-group"><label for="materiKinesthetic">Konten Kinestetik (Aktivitas):</label> <textarea id="materiKinesthetic" required></textarea>
       </div>
       <div class="form-group"><label for="materiVideo">Link Video YouTube (Opsional):</label> <input type="text" id="materiVideo" placeholder="https://www.youtube.com/watch?v=..."> <small style="color: #666; display: block; margin-top: 5px;">Contoh: https://www.youtube.com/watch?v=dQw4w9WgXcQ</small>
       </div>
       <div class="form-group"><label for="materiAudioUrl">Link Audio/MP3 (Opsional):</label> <input type="text" id="materiAudioUrl" placeholder="https://example.com/audio.mp3"> <small style="color: #666; display: block; margin-top: 5px;">Masukkan URL audio yang dapat diakses publik</small>
       </div><input type="hidden" id="materiEditId">
       <div id="materiMessage"></div><button type="submit" class="submit-btn" id="materiSubmitBtn">üíæ Simpan Materi</button>
      </form>
      <div class="data-list" id="materiList">
       <h3 style="color: #4facfe;">Daftar Materi</h3>
       <div id="materiItems"></div>
      </div>
     </div><!-- Kuis Management -->
     <div id="kuisAdmin" class="admin-content">
      <h3 style="color: #4facfe;">Tambah/Edit Kuis</h3>
      <form id="kuisForm" onsubmit="saveKuis(event)">
       <div class="form-group"><label for="kuisBab">BAB:</label> <select id="kuisBab" required> <option value="">Pilih BAB</option> <option value="BAB 1">BAB 1 - Gerak Dasar</option> <option value="BAB 2">BAB 2 - Senam Lantai</option> <option value="BAB 3">BAB 3 - Senam Berirama</option> <option value="BAB 4">BAB 4 - Olahraga Air</option> <option value="BAB 5">BAB 5 - Kebugaran Jasmani</option> <option value="BAB 6">BAB 6 - Perilaku Hidup Sehat</option> </select>
       </div>
       <div class="form-group"><label for="kuisQuestion">Pertanyaan:</label> <textarea id="kuisQuestion" required></textarea>
       </div>
       <div class="form-group"><label for="kuisOption1">Pilihan A:</label> <input type="text" id="kuisOption1" required>
       </div>
       <div class="form-group"><label for="kuisOption2">Pilihan B:</label> <input type="text" id="kuisOption2" required>
       </div>
       <div class="form-group"><label for="kuisOption3">Pilihan C:</label> <input type="text" id="kuisOption3" required>
       </div>
       <div class="form-group"><label for="kuisCorrect">Jawaban Benar:</label> <select id="kuisCorrect" required> <option value="">Pilih jawaban benar</option> <option value="0">Pilihan A</option> <option value="1">Pilihan B</option> <option value="2">Pilihan C</option> </select>
       </div>
       <div class="form-group"><label for="kuisExplanation">Penjelasan:</label> <textarea id="kuisExplanation" required></textarea>
       </div><input type="hidden" id="kuisEditId">
       <div id="kuisMessage"></div><button type="submit" class="submit-btn" id="kuisSubmitBtn">üíæ Simpan Kuis</button>
      </form>
      <div class="data-list" id="kuisList">
       <h3 style="color: #4facfe;">Daftar Kuis</h3>
       <div id="kuisItems"></div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <footer style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 20px; text-align: center; margin-top: 40px; box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.2);">
   <p style="color: white; margin: 0; font-size: 16px; font-weight: bold;">¬© 2024 MIN 1 Sumedang - Website Pembelajaran PJOK</p>
   <p style="color: white; margin: 5px 0 0 0; font-size: 14px;">Hak Cipta Dilindungi | Dibuat dengan ‚ù§Ô∏è untuk Pendidikan</p>
  </footer>
  <script>
        const defaultConfig = {
            site_title: "üèÉ Pembelajaran PJOK Kelas 1 SD üèÉ",
            teacher_name: "Guru: Ibu Siti Nur Aisyah, S.Pd",
            school_name: "MIN 1 Sumedang"
        };

        let config = defaultConfig;
        let allData = [];
        let isAdminLoggedIn = false;
        let currentBab = '';

        // Data SDK Handler
        const dataHandler = {
            onDataChanged(data) {
                allData = data;
                if (isAdminLoggedIn) {
                    renderMateriList();
                    renderKuisList();
                }
                if (currentBab) {
                    loadBabContent(currentBab);
                }
            }
        };

        // Initialize SDKs
        async function initializeApp() {
            if (window.dataSdk) {
                const result = await window.dataSdk.init(dataHandler);
                if (!result.isOk) {
                    console.error("Failed to initialize data SDK");
                }
            }

            if (window.elementSdk) {
                window.elementSdk.init({
                    defaultConfig,
                    onConfigChange,
                    mapToCapabilities,
                    mapToEditPanelValues
                });
                config = window.elementSdk.config;
                onConfigChange(config);
            }
        }

        async function onConfigChange(config) {
            document.getElementById('site-title').textContent = config.site_title || defaultConfig.site_title;
            document.getElementById('teacher-name').textContent = config.teacher_name || defaultConfig.teacher_name;
            document.getElementById('school-name').textContent = config.school_name || defaultConfig.school_name;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["site_title", config.site_title || defaultConfig.site_title],
                ["teacher_name", config.teacher_name || defaultConfig.teacher_name],
                ["school_name", config.school_name || defaultConfig.school_name]
            ]);
        }

        // Navigation Functions
        function showHome() {
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.nav-btn')[0].classList.add('active');
            
            document.getElementById('homeSection').style.display = 'block';
            document.getElementById('contentSection').classList.remove('active');
            document.getElementById('helpSection').classList.remove('active');
            document.getElementById('adminSection').classList.remove('active');
        }

        function showHelp() {
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.nav-btn')[1].classList.add('active');
            
            document.getElementById('homeSection').style.display = 'none';
            document.getElementById('contentSection').classList.remove('active');
            document.getElementById('helpSection').classList.add('active');
            document.getElementById('adminSection').classList.remove('active');
        }

        function showAdmin() {
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.nav-btn')[2].classList.add('active');
            
            document.getElementById('homeSection').style.display = 'none';
            document.getElementById('contentSection').classList.remove('active');
            document.getElementById('helpSection').classList.remove('active');
            document.getElementById('adminSection').classList.add('active');
        }

        function showBab(bab) {
            currentBab = bab;
            selectedAnswers = {};
            document.getElementById('homeSection').style.display = 'none';
            document.getElementById('contentSection').classList.add('active');
            loadBabContent(bab);
        }

        function loadBabContent(bab) {
            const babTitles = {
                'BAB 1': 'BAB 1: Gerak Dasar üö∂‚Äç‚ôÇÔ∏è',
                'BAB 2': 'BAB 2: Senam Lantai ü§∏‚Äç‚ôÄÔ∏è',
                'BAB 3': 'BAB 3: Senam Berirama üíÉ',
                'BAB 4': 'BAB 4: Olahraga Air üèä‚Äç‚ôÇÔ∏è',
                'BAB 5': 'BAB 5: Kebugaran Jasmani üí™',
                'BAB 6': 'BAB 6: Perilaku Hidup Sehat üßº'
            };

            document.getElementById('contentTitle').textContent = babTitles[bab] || bab;

            const materiData = allData.filter(item => item.type === 'materi' && item.bab === bab);

            if (materiData.length > 0) {
                const materi = materiData[0];
                document.getElementById('visualText').innerHTML = `<p>${materi.visual_content}</p>`;
                document.getElementById('audioText').innerHTML = `<p>${materi.audio_content}</p>`;
                document.getElementById('kinestheticText').innerHTML = `<p>${materi.kinesthetic_content}</p>`;

                // Load video if available
                const videoContainer = document.getElementById('visualVideo');
                if (materi.video_url) {
                    const videoId = extractYouTubeId(materi.video_url);
                    if (videoId) {
                        videoContainer.innerHTML = `
                            <div class="video-container">
                                <iframe src="https://www.youtube.com/embed/${videoId}" 
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowfullscreen>
                                </iframe>
                            </div>
                        `;
                    } else {
                        videoContainer.innerHTML = '';
                    }
                } else {
                    videoContainer.innerHTML = '';
                }

                // Load audio if available
                const audioContainer = document.getElementById('audioPlayer');
                if (materi.audio_url) {
                    audioContainer.innerHTML = `
                        <div class="audio-player">
                            <p style="margin: 0 0 10px 0; color: #4facfe; font-weight: bold;">üéµ Dengarkan Penjelasan Audio:</p>
                            <audio controls>
                                <source src="${materi.audio_url}" type="audio/mpeg">
                                Browser Anda tidak mendukung pemutar audio.
                            </audio>
                        </div>
                    `;
                } else {
                    audioContainer.innerHTML = '';
                }
            } else {
                const defaultContent = getDefaultContent(bab);
                document.getElementById('visualText').innerHTML = `<p>${defaultContent.visual}</p>`;
                document.getElementById('audioText').innerHTML = `<p>${defaultContent.audio}</p>`;
                document.getElementById('kinestheticText').innerHTML = `<p>${defaultContent.kinesthetic}</p>`;
                document.getElementById('visualVideo').innerHTML = '';
                document.getElementById('audioPlayer').innerHTML = '';
            }

            // Load kuis
            loadKuis(bab);
        }

        function extractYouTubeId(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        function loadKuis(bab) {
            const kuisContainer = document.getElementById('kuisContainer');
            const kuisData = allData.filter(item => item.type === 'kuis' && item.bab === bab);

            if (kuisData.length === 0) {
                kuisContainer.innerHTML = '<p style="color: #666; text-align: center;">Belum ada kuis untuk BAB ini.</p>';
                return;
            }

            let kuisHTML = '';
            kuisData.forEach((kuis, index) => {
                const options = JSON.parse(kuis.options);
                kuisHTML += `
                    <div class="kuis-item" id="kuis-${index}">
                        <div class="kuis-question">${index + 1}. ${kuis.question}</div>
                        <div class="kuis-options">
                            ${options.map((option, optIndex) => `
                                <div class="kuis-option" onclick="selectOption(${index}, ${optIndex})" data-kuis="${index}" data-option="${optIndex}">
                                    ${String.fromCharCode(65 + optIndex)}. ${option}
                                </div>
                            `).join('')}
                        </div>
                        <div class="kuis-explanation" id="explanation-${index}">
                            <h4>üí° Penjelasan:</h4>
                            <p>${kuis.explanation}</p>
                        </div>
                    </div>
                `;
            });

            kuisHTML += `
                <button class="kuis-submit" onclick="submitKuis('${bab}')">‚úÖ Submit Jawaban</button>
                <div id="kuisResult"></div>
            `;

            kuisContainer.innerHTML = kuisHTML;
        }

        let selectedAnswers = {};

        function selectOption(kuisIndex, optionIndex) {
            // Clear previous selection for this question
            const allOptions = document.querySelectorAll(`[data-kuis="${kuisIndex}"]`);
            allOptions.forEach(opt => opt.classList.remove('selected'));

            // Select new option
            const selectedOption = document.querySelector(`[data-kuis="${kuisIndex}"][data-option="${optionIndex}"]`);
            selectedOption.classList.add('selected');

            // Store answer
            selectedAnswers[kuisIndex] = optionIndex;
        }

        function submitKuis(bab) {
            const kuisData = allData.filter(item => item.type === 'kuis' && item.bab === bab);
            
            if (Object.keys(selectedAnswers).length < kuisData.length) {
                const resultDiv = document.getElementById('kuisResult');
                resultDiv.innerHTML = '<div class="error-message">‚ö†Ô∏è Mohon jawab semua pertanyaan terlebih dahulu!</div>';
                setTimeout(() => resultDiv.innerHTML = '', 3000);
                return;
            }

            let correctCount = 0;
            kuisData.forEach((kuis, index) => {
                const userAnswer = selectedAnswers[index];
                const correctAnswer = kuis.correct_answer;
                const allOptions = document.querySelectorAll(`[data-kuis="${index}"]`);

                allOptions.forEach((opt, optIndex) => {
                    opt.style.pointerEvents = 'none';
                    if (optIndex === correctAnswer) {
                        opt.classList.add('correct');
                    } else if (optIndex === userAnswer && userAnswer !== correctAnswer) {
                        opt.classList.add('incorrect');
                    }
                });

                // Show explanation
                document.getElementById(`explanation-${index}`).classList.add('show');

                if (userAnswer === correctAnswer) {
                    correctCount++;
                }
            });

            const score = Math.round((correctCount / kuisData.length) * 100);
            const resultDiv = document.getElementById('kuisResult');
            
            let emoji = 'üéâ';
            let message = 'Sempurna!';
            if (score < 60) {
                emoji = 'üí™';
                message = 'Tetap semangat! Coba baca materi lagi ya!';
            } else if (score < 80) {
                emoji = 'üëç';
                message = 'Bagus! Terus tingkatkan!';
            }

            resultDiv.innerHTML = `
                <div class="kuis-score">
                    ${emoji} Nilai Kamu: ${score}/100<br>
                    <span style="font-size: 18px;">${message}</span>
                </div>
            `;

            // Disable submit button
            document.querySelector('.kuis-submit').disabled = true;
            document.querySelector('.kuis-submit').textContent = '‚úÖ Sudah Disubmit';

            // Scroll to result
            resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function getDefaultContent(bab) {
            const defaults = {
                'BAB 1': {
                    visual: 'üö∂‚Äç‚ôÇÔ∏è Gerak dasar meliputi berjalan, berlari, melompat, dan merangkak. Berjalan dengan tubuh tegak dan pandangan lurus ke depan. Berlari dengan mengangkat kaki dan mengayunkan tangan.',
                    audio: 'Mari kita pelajari gerak dasar! Berjalan adalah melangkah dengan kaki bergantian secara perlahan. Berlari adalah melangkah dengan cepat sambil mengayunkan tangan. Melompat menggunakan dua kaki bersamaan.',
                    kinesthetic: '‚ú® Aktivitas: Coba praktikkan! 1) Berjalan 10 langkah dengan tubuh tegak. 2) Berlari di tempat selama 10 detik. 3) Melompat 5 kali dengan dua kaki. Lakukan dengan hati-hati!'
                },
                'BAB 2': {
                    visual: 'ü§∏‚Äç‚ôÄÔ∏è Senam lantai dilakukan di atas matras. Gerakan dasar: guling depan, kapal terbang, dan bertumpu. Selalu minta bantuan guru saat berlatih.',
                    audio: 'Senam lantai adalah olahraga yang dilakukan di atas matras. Guling depan dimulai dari posisi jongkok, kepala ditundukkan, lalu berguling ke depan. Gerakan kapal terbang melatih keseimbangan.',
                    kinesthetic: '‚ú® Aktivitas: Latihan keseimbangan! 1) Berdiri dengan satu kaki selama 10 detik. 2) Rentangkan tangan seperti sayap pesawat. 3) Bergantian kaki kanan dan kiri. Hati-hati jangan sampai jatuh!'
                },
                'BAB 3': {
                    visual: 'üíÉ Senam berirama adalah gerakan yang mengikuti irama musik. Gerakan meliputi langkah ke samping, meliuk, dan mengayun tangan sesuai ketukan.',
                    audio: 'Senam berirama sangat menyenangkan! Kita bergerak mengikuti musik. Langkah ke kanan dan kiri, meliukkan badan seperti pohon tertiup angin, dan mengayunkan tangan dengan indah.',
                    kinesthetic: '‚ú® Aktivitas: Ayo bergerak! 1) Melangkah ke kanan 4 langkah, ke kiri 4 langkah. 2) Meliukkan badan ke kanan dan kiri. 3) Mengayunkan tangan ke atas dan ke bawah. Ikuti irama!'
                },
                'BAB 4': {
                    visual: 'üèä‚Äç‚ôÇÔ∏è Olahraga air meliputi berenang dan bermain air. Keselamatan sangat penting! Selalu didampingi orang dewasa saat bermain air.',
                    audio: 'Bermain air sangat menyenangkan tapi harus hati-hati. Jangan bermain air sendirian. Gunakan pelampung jika belum bisa berenang. Dengarkan instruksi dari guru atau orang tua.',
                    kinesthetic: '‚ú® Aktivitas: Gerakan berenang di darat! 1) Berbaring telungkup, gerakkan tangan seperti berenang. 2) Gerakkan kaki naik turun. 3) Latihan mengambil napas. Praktik di kolam dengan pengawasan!'
                },
                'BAB 5': {
                    visual: 'üí™ Kebugaran jasmani membuat tubuh sehat dan kuat. Latihan meliputi: pemanasan, lari, push-up sederhana, dan pendinginan.',
                    audio: 'Tubuh yang bugar adalah tubuh yang sehat dan kuat. Kita perlu berolahraga rutin. Mulai dengan pemanasan, lalu latihan inti seperti berlari atau melompat, dan diakhiri dengan pendinginan.',
                    kinesthetic: '‚ú® Aktivitas: Latihan kebugaran! 1) Pemanasan: putar tangan dan kaki 10 kali. 2) Lari di tempat 20 detik. 3) Melompat 10 kali. 4) Pendinginan: tarik napas dalam-dalam. Semangat!'
                },
                'BAB 6': {
                    visual: 'üßº Perilaku hidup sehat: mencuci tangan, mandi 2 kali sehari, gosok gigi, makan makanan bergizi, dan tidur cukup.',
                    audio: 'Hidup sehat dimulai dari kebiasaan baik. Cuci tangan dengan sabun sebelum makan dan setelah bermain. Mandi pagi dan sore. Gosok gigi setelah makan dan sebelum tidur. Makan sayur dan buah. Tidur 8-10 jam setiap hari.',
                    kinesthetic: '‚ú® Aktivitas: Praktik hidup sehat! 1) Praktik cara cuci tangan 6 langkah. 2) Praktik cara gosok gigi yang benar. 3) Buat jadwal tidur dan makan. Lakukan setiap hari!'
                }
            };

            return defaults[bab] || {
                visual: 'Materi belum tersedia. Silakan hubungi guru untuk informasi lebih lanjut.',
                audio: 'Materi belum tersedia. Silakan hubungi guru untuk informasi lebih lanjut.',
                kinesthetic: 'Materi belum tersedia. Silakan hubungi guru untuk informasi lebih lanjut.'
            };
        }

        function switchStyle(style) {
            document.querySelectorAll('.style-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.style-content').forEach(content => content.classList.remove('active'));

            if (style === 'visual') {
                document.querySelectorAll('.style-tab')[0].classList.add('active');
                document.getElementById('visualContent').classList.add('active');
            } else if (style === 'audio') {
                document.querySelectorAll('.style-tab')[1].classList.add('active');
                document.getElementById('audioContent').classList.add('active');
            } else if (style === 'kinesthetic') {
                document.querySelectorAll('.style-tab')[2].classList.add('active');
                document.getElementById('kinestheticContent').classList.add('active');
            }
        }

        // Admin Functions
        function loginAdmin() {
            const password = document.getElementById('adminPassword').value;
            const errorDiv = document.getElementById('loginError');

            if (password === 'adminpjok') {
                isAdminLoggedIn = true;
                document.getElementById('loginForm').style.display = 'none';
                document.getElementById('adminPanel').classList.add('active');
                renderMateriList();
                renderKuisList();
            } else {
                errorDiv.innerHTML = '<div class="error-message">‚ùå Password salah! Coba lagi.</div>';
            }
        }

        function switchAdminTab(tab) {
            document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.admin-content').forEach(c => c.classList.remove('active'));

            if (tab === 'materi') {
                document.querySelectorAll('.admin-tab')[0].classList.add('active');
                document.getElementById('materiAdmin').classList.add('active');
            } else if (tab === 'kuis') {
                document.querySelectorAll('.admin-tab')[1].classList.add('active');
                document.getElementById('kuisAdmin').classList.add('active');
            }
        }

        async function saveMateri(event) {
            event.preventDefault();
            
            const submitBtn = document.getElementById('materiSubmitBtn');
            const messageDiv = document.getElementById('materiMessage');
            submitBtn.disabled = true;
            submitBtn.textContent = '‚è≥ Menyimpan...';

            const editId = document.getElementById('materiEditId').value;
            const materiData = {
                type: 'materi',
                bab: document.getElementById('materiBab').value,
                title: document.getElementById('materiTitle').value,
                visual_content: document.getElementById('materiVisual').value,
                audio_content: document.getElementById('materiAudio').value,
                kinesthetic_content: document.getElementById('materiKinesthetic').value,
                video_url: document.getElementById('materiVideo').value || '',
                audio_url: document.getElementById('materiAudioUrl').value || '',
                created_at: new Date().toISOString()
            };

            let result;
            if (editId) {
                const existingItem = allData.find(item => item.__backendId === editId);
                if (existingItem) {
                    result = await window.dataSdk.update({ ...existingItem, ...materiData });
                }
            } else {
                if (allData.length >= 999) {
                    messageDiv.innerHTML = '<div class="error-message">‚ùå Batas maksimum 999 data tercapai!</div>';
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'üíæ Simpan Materi';
                    return;
                }
                result = await window.dataSdk.create(materiData);
            }

            if (result && result.isOk) {
                messageDiv.innerHTML = '<div class="success-message">‚úÖ Materi berhasil disimpan!</div>';
                document.getElementById('materiForm').reset();
                document.getElementById('materiEditId').value = '';
            } else {
                messageDiv.innerHTML = '<div class="error-message">‚ùå Gagal menyimpan materi!</div>';
            }

            submitBtn.disabled = false;
            submitBtn.textContent = 'üíæ Simpan Materi';
            setTimeout(() => messageDiv.innerHTML = '', 3000);
        }

        async function saveKuis(event) {
            event.preventDefault();
            
            const submitBtn = document.getElementById('kuisSubmitBtn');
            const messageDiv = document.getElementById('kuisMessage');
            submitBtn.disabled = true;
            submitBtn.textContent = '‚è≥ Menyimpan...';

            const editId = document.getElementById('kuisEditId').value;
            const options = [
                document.getElementById('kuisOption1').value,
                document.getElementById('kuisOption2').value,
                document.getElementById('kuisOption3').value
            ];

            const kuisData = {
                type: 'kuis',
                bab: document.getElementById('kuisBab').value,
                question: document.getElementById('kuisQuestion').value,
                options: JSON.stringify(options),
                correct_answer: parseInt(document.getElementById('kuisCorrect').value),
                explanation: document.getElementById('kuisExplanation').value,
                created_at: new Date().toISOString()
            };

            let result;
            if (editId) {
                const existingItem = allData.find(item => item.__backendId === editId);
                if (existingItem) {
                    result = await window.dataSdk.update({ ...existingItem, ...kuisData });
                }
            } else {
                if (allData.length >= 999) {
                    messageDiv.innerHTML = '<div class="error-message">‚ùå Batas maksimum 999 data tercapai!</div>';
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'üíæ Simpan Kuis';
                    return;
                }
                result = await window.dataSdk.create(kuisData);
            }

            if (result && result.isOk) {
                messageDiv.innerHTML = '<div class="success-message">‚úÖ Kuis berhasil disimpan!</div>';
                document.getElementById('kuisForm').reset();
                document.getElementById('kuisEditId').value = '';
            } else {
                messageDiv.innerHTML = '<div class="error-message">‚ùå Gagal menyimpan kuis!</div>';
            }

            submitBtn.disabled = false;
            submitBtn.textContent = 'üíæ Simpan Kuis';
            setTimeout(() => messageDiv.innerHTML = '', 3000);
        }

        function renderMateriList() {
            const container = document.getElementById('materiItems');
            const materiData = allData.filter(item => item.type === 'materi');

            if (materiData.length === 0) {
                container.innerHTML = '<p style="color: #666; text-align: center;">Belum ada materi. Tambahkan materi baru di atas.</p>';
                return;
            }

            container.innerHTML = materiData.map(item => `
                <div class="data-item">
                    <h4>${item.bab} - ${item.title}</h4>
                    <p><strong>Visual:</strong> ${item.visual_content.substring(0, 100)}...</p>
                    <div class="data-actions">
                        <button class="edit-btn" onclick="editMateri('${item.__backendId}')">‚úèÔ∏è Edit</button>
                        <button class="delete-btn" onclick="deleteMateri('${item.__backendId}')">üóëÔ∏è Hapus</button>
                    </div>
                </div>
            `).join('');
        }

        function renderKuisList() {
            const container = document.getElementById('kuisItems');
            const kuisData = allData.filter(item => item.type === 'kuis');

            if (kuisData.length === 0) {
                container.innerHTML = '<p style="color: #666; text-align: center;">Belum ada kuis. Tambahkan kuis baru di atas.</p>';
                return;
            }

            container.innerHTML = kuisData.map(item => `
                <div class="data-item">
                    <h4>${item.bab}</h4>
                    <p><strong>Pertanyaan:</strong> ${item.question}</p>
                    <div class="data-actions">
                        <button class="edit-btn" onclick="editKuis('${item.__backendId}')">‚úèÔ∏è Edit</button>
                        <button class="delete-btn" onclick="deleteKuis('${item.__backendId}')">üóëÔ∏è Hapus</button>
                    </div>
                </div>
            `).join('');
        }

        function editMateri(id) {
            const item = allData.find(data => data.__backendId === id);
            if (!item) return;

            document.getElementById('materiBab').value = item.bab;
            document.getElementById('materiTitle').value = item.title;
            document.getElementById('materiVisual').value = item.visual_content;
            document.getElementById('materiAudio').value = item.audio_content;
            document.getElementById('materiKinesthetic').value = item.kinesthetic_content;
            document.getElementById('materiVideo').value = item.video_url || '';
            document.getElementById('materiAudioUrl').value = item.audio_url || '';
            document.getElementById('materiEditId').value = id;

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function editKuis(id) {
            const item = allData.find(data => data.__backendId === id);
            if (!item) return;

            const options = JSON.parse(item.options);
            document.getElementById('kuisBab').value = item.bab;
            document.getElementById('kuisQuestion').value = item.question;
            document.getElementById('kuisOption1').value = options[0];
            document.getElementById('kuisOption2').value = options[1];
            document.getElementById('kuisOption3').value = options[2];
            document.getElementById('kuisCorrect').value = item.correct_answer;
            document.getElementById('kuisExplanation').value = item.explanation;
            document.getElementById('kuisEditId').value = id;

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        async function deleteMateri(id) {
            const item = allData.find(data => data.__backendId === id);
            if (!item) return;

            const confirmDiv = document.createElement('div');
            confirmDiv.className = 'data-item';
            confirmDiv.style.background = '#ffe0e0';
            confirmDiv.innerHTML = `
                <p style="color: #d63031; font-weight: bold;">Yakin ingin menghapus materi ini?</p>
                <div class="data-actions">
                    <button class="delete-btn" onclick="confirmDeleteMateri('${id}')">Ya, Hapus</button>
                    <button class="edit-btn" onclick="this.closest('.data-item').remove()">Batal</button>
                </div>
            `;
            
            const container = document.getElementById('materiItems');
            container.insertBefore(confirmDiv, container.firstChild);
        }

        async function confirmDeleteMateri(id) {
            const item = allData.find(data => data.__backendId === id);
            if (!item) return;

            const result = await window.dataSdk.delete(item);
            if (result && result.isOk) {
                const messageDiv = document.getElementById('materiMessage');
                messageDiv.innerHTML = '<div class="success-message">‚úÖ Materi berhasil dihapus!</div>';
                setTimeout(() => messageDiv.innerHTML = '', 3000);
            }
        }

        async function deleteKuis(id) {
            const item = allData.find(data => data.__backendId === id);
            if (!item) return;

            const confirmDiv = document.createElement('div');
            confirmDiv.className = 'data-item';
            confirmDiv.style.background = '#ffe0e0';
            confirmDiv.innerHTML = `
                <p style="color: #d63031; font-weight: bold;">Yakin ingin menghapus kuis ini?</p>
                <div class="data-actions">
                    <button class="delete-btn" onclick="confirmDeleteKuis('${id}')">Ya, Hapus</button>
                    <button class="edit-btn" onclick="this.closest('.data-item').remove()">Batal</button>
                </div>
            `;
            
            const container = document.getElementById('kuisItems');
            container.insertBefore(confirmDiv, container.firstChild);
        }

        async function confirmDeleteKuis(id) {
            const item = allData.find(data => data.__backendId === id);
            if (!item) return;

            const result = await window.dataSdk.delete(item);
            if (result && result.isOk) {
                const messageDiv = document.getElementById('kuisMessage');
                messageDiv.innerHTML = '<div class="success-message">‚úÖ Kuis berhasil dihapus!</div>';
                setTimeout(() => messageDiv.innerHTML = '', 3000);
            }
        }

        // Initialize app
        initializeApp();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99ca130801e68e13',t:'MTc2MjgyNTE1MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
